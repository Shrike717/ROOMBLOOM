<div class="whole-page" data-controller="" data-ajax-moodboard-value="<%=@moodboard.id %>">



<script>history.scrollRestoration = "manual"</script>
  <div class="left-side">
    <ul class="breadcrumb">
      <li><%= link_to "Home", root_path, class:"breadcrumb-link" %></li>
    </ul>
    <h1 id="title-moodboard">Create <br> Moodboard</h1>
    <br>
    <p>Click pin to keep an item from shuffling</p>

    <div class="items">
      <% @moodboard.items.sort.each do |item| %>
        <% pin = item.moodboard_pin(@moodboard) %>
        <div class="item">
          <div class="item-image-wrapper">
            <%= cl_image_tag item.photo.key, class: "item-image" %>
          </div>
          <div class="item-info">
            <div><%= item.pretty_name %></div>
          </div>
          <div data-action="click->ajax#send" data-id="<%=item.id%>">
            <%= link_to pin.pinned? ? "Unpin" : "Pin", moodboard_pin_path(@moodboard, pin, anchor: "data-id#{item.id}"), data: { turbo_method: :put }, class: pin.pinned? ? "unpin-btn" : "pin-btn" %>
          </div>
        </div>
      <% end %>
    </div>
  </div>

  <div class="right-side">

    <div class="item-wrapper">
      <div class="lamp m-4" style="background-image: url('<%= cl_image_path @lights_item.photo.key, height: 1000, crop: :fill %>')">
        <%# light %>
      </div>

      <div class="rug" style="background-image: url('<%= cl_image_path @rugs_item.photo.key, height: 1000, crop: :fill %>')">
        <%# rug %>
      </div>

      <div class="sofa" style="background-image: url('<%= cl_image_path @sofas_item.photo.key, height: 1000, crop: :fill %>')">
        <%# sofa %>
      </div>


      <div class="chair" style="background-image: url('<%= cl_image_path @chairs_item.photo.key, height: 1000, crop: :fill %>')">
        <%# chair %>
      </div>

      <div class="side-table" style="background-image: url('<%= cl_image_path @coffee_tables_item.photo.key, height: 1000, crop: :fill %>')">
        <%# side table %>
      </div>

    </div>

      <div class="buttons">
        <%= link_to moodboard_shuffle_path(@moodboard), class: "shuffle-btn" do %>
          <span>
              Shuffle
            <i class="fa-sharp fa-solid fa-shuffle"></i>
          </span>
        <% end %>


           <button type="button" class="save-btn" data-bs-toggle="modal" data-bs-target="#exampleModal">
        Save
        </button>

        <!-- Modal -->
        <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <%= simple_form_for @moodboard do |f| %>
                <div class="modal-body">
                  <%= f.input :name, input_html: { value: "" } %>
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                  <%= f.submit "save moodboard", class: "btn btn-primary" %>
                </div>
              <% end %>
            </div>
          </div>
        </div>

        <!-- <%= link_to moodboard_shuffle_path(@moodboard), class: "save-btn" do %>
          <span>
              Save
            <i class="fa-regular fa-heart"></i>
          </span> -->

        <% end %>




      </div>

  </div>
</div>
